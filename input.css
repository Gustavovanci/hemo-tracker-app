@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Revolutionary Color System */
    --primary: #007AFF;
    --primary-light: #5AC8FA;
    --primary-dark: #0051D5;
    --secondary: #5856D6;
    --accent: #FF2D92;
    --success: #30D158;
    --warning: #FF9F0A;
    --danger: #FF453A;
    
    /* Advanced Gradients */
    --gradient-hero: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
    --gradient-primary: linear-gradient(135deg, #007AFF 0%, #5AC8FA 100%);
    --gradient-success: linear-gradient(135deg, #30D158 0%, #32D74B 100%);
    --gradient-danger: linear-gradient(135deg, #FF453A 0%, #FF6B6B 100%);
    
    /* Shadows */
    --shadow-soft: 0 4px 20px rgba(0, 0, 0, 0.1);
    --shadow-medium: 0 8px 30px rgba(0, 0, 0, 0.15);
    --shadow-strong: 0 20px 60px rgba(0, 0, 0, 0.2);
    --shadow-primary: 0 20px 40px rgba(0, 122, 255, 0.3);
    --shadow-success: 0 20px 40px rgba(48, 209, 88, 0.3);
    --shadow-danger: 0 20px 40px rgba(255, 69, 58, 0.3);
    
    /* Typography */
    --font-display: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    --font-text: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  }

  * {
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  html {
    scroll-behavior: smooth;
    font-size: 16px;
  }

  body {
    font-family: var(--font-text);
    background: var(--gradient-hero);
    background-size: 400% 400%;
    animation: gradientFlow 20s ease infinite;
    min-height: 100vh;
    overflow-x: hidden;
    color: white;
    line-height: 1.6;
  }
}

@layer components {
  /* Step-by-Step Container */
  .step-container {
    @apply min-h-screen flex items-center justify-center p-4;
  }

  .step-card {
    @apply w-full max-w-2xl;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(20px) saturate(180%);
    border: 2px solid rgba(255, 255, 255, 0.2);
    border-radius: 2rem;
    padding: 2rem;
    box-shadow: var(--shadow-strong), inset 0 1px 0 rgba(255, 255, 255, 0.1);
    animation: stepSlideIn 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Step Header */
  .step-header { @apply text-center mb-8; }
  .step-number {
    @apply inline-flex items-center justify-center w-16 h-16 rounded-2xl mb-4 text-2xl font-bold;
    background: var(--gradient-primary);
    color: white;
    box-shadow: var(--shadow-primary);
  }
  .step-title {
    @apply text-4xl md:text-5xl font-black mb-4;
    font-family: var(--font-display);
    background: linear-gradient(135deg, #ffffff 0%, #f0f9ff 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .step-subtitle { @apply text-xl text-white/80; font-family: var(--font-text); }

  /* Buttons */
  .btn-revolutionary {
    @apply inline-flex items-center justify-center gap-4 px-8 py-5 text-xl font-bold text-white rounded-2xl transition-all duration-300 relative overflow-hidden w-full;
    font-family: var(--font-display);
  }
  .btn-primary { background: var(--gradient-primary); box-shadow: var(--shadow-primary); }
  .btn-success { background: var(--gradient-success); box-shadow: var(--shadow-success); }
  .btn-danger { background: var(--gradient-danger); box-shadow: var(--shadow-danger); }
  .btn-revolutionary:hover { transform: translateY(-6px) scale(1.05); }
  .btn-revolutionary:active { transform: translateY(-3px) scale(1.02); }
  .btn-revolutionary:disabled { @apply opacity-50 cursor-not-allowed transform-none; }

  /* Scanner Interface */
  .camera-preview {
    @apply rounded-2xl overflow-hidden mb-6 mx-auto w-full max-w-sm;
    border: 4px solid rgba(0, 122, 255, 0.4);
    box-shadow: var(--shadow-medium);
  }

  /* Input System */
  .input-field {
    @apply w-full px-6 py-5 text-xl text-center font-bold rounded-2xl transition-all duration-300;
    background: rgba(255, 255, 255, 0.95);
    color: #1a1a1a;
    border: 3px solid rgba(0, 122, 255, 0.3);
    box-shadow: var(--shadow-medium);
  }
  .input-field:focus {
    @apply outline-none;
    background: white;
    color: black;
    border-color: var(--primary);
    box-shadow: 0 0 0 4px rgba(0, 122, 255, 0.2), var(--shadow-strong);
  }
  .input-field::placeholder { color: #666; font-weight: 500; }

  /* Final Form */
  .form-select {
    @apply w-full px-6 py-4 text-lg rounded-xl transition-all duration-300;
    background: rgba(255, 255, 255, 0.95);
    color: #1a1a1a;
    border: 2px solid rgba(0, 122, 255, 0.3);
  }

  /* Loading & Toasts */
  .loading-overlay {
    @apply fixed inset-0 z-50 flex items-center justify-center;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(10px);
  }
  .loading-spinner {
    @apply w-16 h-16 border-4 border-white/20 rounded-full border-t-white;
    animation: spin 1s linear infinite;
  }
  #toast-container {
    @apply fixed top-6 left-1/2 -translate-x-1/2 z-50 space-y-3;
  }
  .toast {
    @apply flex items-center space-x-3 px-6 py-4 rounded-2xl text-white font-semibold min-w-[320px] max-w-md;
    backdrop-filter: blur(20px);
    border: 2px solid rgba(255, 255, 255, 0.2);
  }
}

/* Animations */
@keyframes gradientFlow { 0%, 100% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } }
@keyframes stepSlideIn { from { opacity: 0; transform: translateY(60px) scale(0.9); } to { opacity: 1; transform: translateY(0) scale(1); } }
@keyframes spin { to { transform: rotate(360deg); } }